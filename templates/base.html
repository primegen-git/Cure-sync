{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
		<link rel="stylesheet" href="{% static 'styles/base.css' %}">
        {% block css %}
        {% endblock css %}
    </head>
    <body>
		{% if messages %}
			<div class="messages">
				{% for message in messages %}
					<div class="message {{ message.tags }}">
						<span class="message-icon">
							{% if message.tags == 'success' %}<i class="fas fa-check-circle"></i>{% endif %}
							{% if message.tags == 'error' %}<i class="fas fa-times-circle"></i>{% endif %}
							{% if message.tags == 'warning' %}<i class="fas fa-exclamation-triangle"></i>{% endif %}
							{% if message.tags == 'info' %}<i class="fas fa-info-circle"></i>{% endif %}
						</span>
						<p class="message-text">{{ message }}</p>
						<button class="message-close" onclick="this.parentElement.style.display='none'">&times;</button>
					</div>
				{% endfor %}
			</div>
		{% endif %}

        {% block content %}
        {% endblock content %}

        <script>
        document.addEventListener("DOMContentLoaded", function() {
            document.querySelectorAll('.message').forEach(function(msg) {
                // Auto-dismiss after 3 seconds
                let timeout = setTimeout(() => {
                    msg.style.opacity = '0';
                    setTimeout(() => msg.remove(), 300);
                }, 3000);
                // Dismiss on hover
                msg.addEventListener('mouseenter', function() {
                    msg.style.opacity = '0';
                    setTimeout(() => msg.remove(), 300);
                    clearTimeout(timeout);
                });
            });
        });
        </script>
    </body>
    {% block js %}
    {% endblock js %}
</html>
